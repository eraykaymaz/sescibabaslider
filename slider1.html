<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>111in1 Slider Üretici</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body { font-family: Arial; padding: 20px; background:#f5f5f5; }
h1 { font-size:22px; }
textarea { width:100%; height:250px; font-size:14px; }
button {
    background:#007bff; color:white; padding:10px 20px;
    border:none; border-radius:6px; cursor:pointer;
    font-size:16px; margin-top:10px;
}
button:hover { background:#005fcc; }
.output-box {
    margin-top:20px; padding:15px;
    background:white; border-radius:5px;
    border:1px solid #ddd;
    white-space:pre-wrap; font-size:14px;
}
</style>
</head>
<body>

<h1>111in1 Slider Üretici</h1>
<p>
Excel’den aldığın ürün listesini aşağıya yapıştır →  
Her satır şu formatta olmalı:

<br><br>
<b>CAT001 | https://site.com/urun-linki</b>
</p>

<textarea id="excelInput" placeholder="CAT001 | https://...."></textarea>

<button onclick="createHTML()">Slider Oluştur</button>

<div id="output" class="output-box" style="display:none;"></div>

<script>
function clean(t){ return t.trim(); }

function createHTML(){
    let raw = document.getElementById("excelInput").value.trim();
    if(!raw){ alert("Excel verisini yapıştır."); return; }

    let lines = raw.split("\n");
    let categories = {};

    lines.forEach(line=>{
        let parts = line.split("|");
        if(parts.length < 2) return;

        let cat = clean(parts[0]);
        let url = clean(parts[1]);

        if(!categories[cat]) categories[cat] = [];
        categories[cat].push(url);
    });

    // HTML gövdesini oluştur
    let html = `
<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<style>
    body{font-family:Arial;margin:0;padding:0;}
    .cat-block{display:none;padding:10px;}
    .slider{display:flex;overflow-x:auto;gap:10px;padding:10px;}
    .item{min-width:150px;border:1px solid #ccc;padding:10px;border-radius:6px;background:white;}
    .title{font-size:14px;font-weight:bold;margin:5px 0;}
</style>

<script>
// URL'den kat parametresini çek
function getCat(){
    const params = new URLSearchParams(window.location.search);
    return params.get("cat");
}
window.onload = function(){
    let c = getCat();
    if(c){
        document.getElementById(c).style.display = "block";
    }
};
</script>
</head>
<body>
`;

    // Her kategori için blok oluştur
    for(let cat in categories){
        html += `<div class="cat-block" id="${cat}">\n`;
        html += `<div class="slider">\n`;

        categories[cat].forEach(url=>{
            html += `
                <div class="item">
                    <a href="${url}" target="_blank">
                        <img src="${url}/image1.jpg" width="150">
                        <div class="title">Ürün Başlığı</div>
                        <div class="price">Fiyat Bilgisi</div>
                    </a>
                </div>
            `;
        });

        html += `</div>\n</div>\n`;
    }

    html += `</body></html>`;

    document.getElementById("output").innerText = html;
    document.getElementById("output").style.display = "block";
}
</script>

</body>
</html>
